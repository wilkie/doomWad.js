/*! lib-doomWad - v0.1.0 - 2015-10-18 - wilkie */
!function(a){function b(a){"use strict";var b=a.DoomWad=function(a,c){var d=this;return d._filename=a,d._stream=new b.Stream(a,function(){d._header=new b.Header(d._stream),d._directory=new b.Directory(d._stream,d._header),d._info=new b.Info(d._stream.size(),d._header,d._directory),d._palette=new b.PlayPal(d._stream,d._info,d._directory),d._textures=new b.Textures(d._stream,d._info,d._directory,d._palette),d._directory.lumpExists("MAP26")&&(d._level=new b.Level(d._stream,d._info,d._directory,d._textures,"MAP26")),c()}),d};b.prototype.filename=function(){return this._filename},b.prototype.header=function(){return this._header},b.prototype.flats=function(){return this._textures.forNamespace("flat")},b.prototype.sectors=function(){return this._level.sectors()},b.prototype.lineDefs=function(){return this._level.lineDefs()},b.prototype.textureFromName=function(a,b){return this._textures.fromName(a,b)},b.prototype.level=function(){return this._level}}function c(a){var b=a.DoomWad.Directory=function(a,b){var c=this,d=b.numberOfLumps();a.seek(b.directoryStart()),c._size=16*d,c._directory={};for(var e={},f=!1,g=!1,h="global",i=0;d>i;i++){var j=a.read32lu(),k=a.read32lu(),l=a.readAscii(8);"F_START"===l?(f=!0,h="flat"):"F_END"===l&&(f=!1,h="global"),"S_START"===l?(g=!0,h="sprite"):"S_END"===l&&(g=!1,h="global");var m={size:k,offset:j,name:l,namespace:h};e.next=m,l in c._directory||(c._directory[l]=[]),c._directory[l].push(m),e=m}return c};b.prototype.size=function(){return this._size},b.prototype.lumpHeaderFor=function(a,b){var c=this._directory[a];if(void 0===c)return null;if(void 0!==b)for(var d=0;d<this._directory[a].length;d++)if(this._directory[a][d].namespace===b)return this._directory[a][d];return this._directory[a][0]},b.prototype.lumpExists=function(a){return a in this._directory},b.prototype.lumpHeaderAfter=function(a,b){for(var c=this.lumpHeaderFor(a),d=c,e=0;d&&d.name!=b;){if(e+=1,e>=25)return null;d=d.next}return d}}function d(a){var b=a.DoomWad.Header=function(a){var b=this;return a.seek(0),b._size=12,b._magic=a.readAscii(4),b._numberOfLumps=a.read32lu(),b._directoryStart=a.read32lu(),b};b.prototype.isValid=function(){return"IWAD"===this._magic||"PWAD"===this._magic},b.prototype.size=function(){return this._size},b.prototype.magic=function(){return this._magic},b.prototype.numberOfLumps=function(){return this._numberOfLumps},b.prototype.directoryStart=function(){return this._directoryStart}}function e(a){var b=a.DoomWad.Info=function(a,b,c){var d=this;return d._size=a,c.lumpExists("MAP01")?c.lumpExists("TITLE")||c.lumpExists("BEHAVIOR")?d._engine="Hexen":d._engine="DOOM2":c.lumpExists("E1M1")?d._engine="DOOM":d._engine="unknown",d};b.prototype.size=function(){return this._size},b.prototype.numberOfLumps=function(){return this._data.numberOfLumps},b.prototype.dictionaryStart=function(){return this._data.dictionaryStart},b.prototype.engine=function(){return this._engine}}function f(a){var b=a.DoomWad.Level=function(a,b,c,d,e){var f=this,g=c.lumpHeaderFor(e),h=(g.next,c.lumpHeaderAfter(e,"THINGS"));h&&(f._things=new DoomWad.Things(a,b,h));var i=c.lumpHeaderAfter(e,"VERTEXES");i&&(f._vertexes=new DoomWad.Vertexes(a,b,i));var j=c.lumpHeaderAfter(e,"SECTORS");j&&(f._sectors=new DoomWad.Sectors(a,b,j,d));var k=c.lumpHeaderAfter(e,"SIDEDEFS");k&&(f._sideDefs=new DoomWad.SideDefs(a,b,k,f._sectors,d));var l=c.lumpHeaderAfter(e,"LINEDEFS");return l&&(f._lineDefs=new DoomWad.LineDefs(a,b,l,f._vertexes,f._sideDefs)),f};b.prototype.boundingBox=function(){var a=this._vertexes.minX(),b=this._vertexes.maxX(),c=b-a,d=this._vertexes.minY(),e=this._vertexes.maxY(),f=e-d;return{x:a,y:d,width:c,height:f}},b.prototype.vertices=function(){return this._vertexes.vertices()},b.prototype.lineDefs=function(){return this._lineDefs.lineDefs()},b.prototype.sectors=function(){return this._sectors.sectors()}}function g(a){var b=a.DoomWad.LineDef=function(a,b){var c=this;c._engine=a.engine(),"Hexen"==c._engine?c._size=16:c._size=14,c._start=b.start,c._end=b.end,c._flags=b.flags,"Hexen"===c._engine?(c._action=b.action,c._arguments=b.arguments):(c._effect=b.effect,c._tag=b.tag),c._rightSideDef=b.rightSideDef,c._leftSideDef=b.leftSideDef};b.prototype.size=function(){return this._size},b.prototype.start=function(){return this._start},b.prototype.end=function(){return this._end},b.prototype.isImpassable=function(){return(1&this._flags)>0},b.prototype.isBlockingMonsters=function(){return(2&this._flags)>0},b.prototype.isDoubleSided=function(){return(4&this._flags)>0},b.prototype.isUpperUnpegged=function(){return(8&this._flags)>0},b.prototype.isLowerUnpegged=function(){return(16&this._flags)>0},b.prototype.isSecret=function(){return(16&this._flags)>0},b.prototype.isBlockingSound=function(){return(32&this._flags)>0},b.prototype.isHidden=function(){return(64&this._flags)>0},b.prototype.isShown=function(){return(128&this._flags)>0},b.prototype.isHexenSpecialRepeatable=function(){return(256&this._flags)>0},b.prototype.isHexenSpecialActivation=function(){return(512&this._flags)>0}}function h(a){var b=a.DoomWad.LineDefs=function(b,c,d,e,f){var g=this;g._size=d.size,b.seek(d.offset);var h="Hexen"==c.engine(),i=14;h&&(i=16),g._sectorReference={},g._lineDefs=[];for(var j=0;j<g._size;j+=i){var k={};if(k.start=e.fromId(b.read16lu()),k.end=e.fromId(b.read16lu()),k.flags=b.read16lu(),h?(k.action=b.read8u(),k.arguments=b.read(5)):(k.effect=b.read16lu(),k.tag=b.read16lu()),k.rightSideDef=f.fromId(b.read16lu()),k.leftSideDef=f.fromId(b.read16lu()),k.sectors=[],k.rightSideDef&&k.sectors.push(k.rightSideDef.sector()),k.leftSideDef){var l=k.leftSideDef.sector();l in k.sectors||k.sectors.push(l)}var m=new a.DoomWad.LineDef(c,k);g._lineDefs.push(m),k.sectors.forEach(function(a){a.index()in g._sectorReference||(g._sectorReference[a.index()]=[]),g._sectorReference[a.index()].push(k),a.appendLineDef(m)})}return g};b.prototype.size=function(){return this._size},b.prototype.lineDefs=function(){return this._lineDefs.slice(0)},b.prototype.forSector=function(a){return this._sectorReference[a]||[]}}function i(a){"use strict";var b=a.DoomWad.PlayPal=function(a,b,c){var d=this,e=c.lumpHeaderFor("PLAYPAL");"Hexen"===b.engine()&&21504!=e.size?console.log("ERROR: PLAYPAL: lump size is not 28 * 768 (21504), it is "+lump.size+" (Hexen)"):10752!=e.size&&console.log("ERROR: PLAYPAL: lump size is not 14 * 768 (10752), it is "+lump.size),a.seek(e.offset);a.read(768);d._palette=[],d._paletteRealized=[];for(var f=0;256>f;f++){var g={red:a.read8u(3*f+0),green:a.read8u(3*f+1),blue:a.read8u(3*f+2)};d._palette.push(g),d._paletteRealized.push((g.red<<24|g.green<<16|g.blue<<8<<8)>>>0)}return d};b.prototype.fromId=function(a){return this._palette[a]},b.prototype.asUInt32=function(a){return this._paletteRealized[a]}}function j(a){var b=a.DoomWad.Sector=function(a){var b=this;return b._floorHeight=a.floorHeight,b._ceilingHeight=a.ceilingHeight,b._lightLevel=a.lightLevel,b._special=a.special,b._textureFloor=a.textureFloor,b._textureCeiling=a.textureCeiling,b._tag=a.tag,b._index=a.index,b._lineDefs=[],b};b.prototype.size=function(){return this._size},b.prototype.index=function(){return this._index},b.prototype.appendLineDef=function(a){return this._lineDefs.push(a),this},b.prototype.renderToCanvas=function(a,b,c){return this._textureFloor.renderSectorToCanvas(this,a,b,c),this},b.prototype.textureFloor=function(){return this._textureFloor},b.prototype.textureCeiling=function(){return this._textureCeiling},b.prototype.boundingBox=function(){var a=this;return this.vertices(),void 0===this._minX&&this._vertices.forEach(function(b){(void 0===a._minX||b.x<a._minX)&&(a._minX=b.x),(void 0===a._minY||b.y<a._minY)&&(a._minY=b.y),(void 0===a._maxX||b.x>a._maxX)&&(a._maxX=b.x),(void 0===a._maxY||b.y>a._maxY)&&(a._maxY=b.y)}),{x:this._minX,y:this._minY,width:this._maxX-this._minX,height:this._maxY-this._minY}};var c=function(a,b,c){for(var d=0;d<a.length;d++){var e=a[d],f=e.start().x,g=e.start().y,h=e.end().x,i=e.end().y;if(f==b&&g==c)return[d,!0];if(h==b&&i==c)return[d,!1]}return null},d=function(a){var b=[],d=a[0];b.push(d.start()),a.splice(0,1);for(var e=d.end();a.length>0;){var f=c(a,e.x,e.y);if(null===f)break;var g=f[0],h=f[1],i=a.splice(g,1)[0];b.push(e),e=h?i.end():i.start()}return b},e=function(a,b){for(var c=b[0].x,d=b[0].y,e=!1,f=a.length-1,g=0;g<a.length;g++)a[g].y>d!=a[f].y>d&&c<(a[f].x-a[g].x)*(d-a[g].y)/(a[f].y-a[g].y)+a[g].x&&(e=!e),f=g;return e},f=function(a){for(var b=a.length-1,c=0,d=0;d<a.length;d++)c+=(a[d].x-a[b].x)*(a[d].y+a[d].y),b=d;return 0>c},g=function(a,b){return f(a)!==b?a.reverse():a},h=function(a){for(var b=0,c=a[b],d=[b],f=0;f<a.length;f++)f!=b&&e(a[f],c)&&(f in d||(c=a[f],b=f,d.push(f),f=-1));return a.splice(b,1)[0]},i=function(a,b){for(var c=[],d=0;d<a.length;d++)e(b,a[d])&&(c.push(a.splice(0,1)[0]),d--);return c};b.prototype.polygons=function(){if(void 0===this._polygons){var a=this;if(this._polygons=[],0==this._lineDefs.length)return this._polygons;for(var b=this._lineDefs.slice(),c=[];b.length>0;){var e=d(b);this._polygons.length>0&&(e=e.reverse()),c.push(e)}for(;c.length>0;){var f=h(c),j=i(c,f);a._polygons.push(g(f,!0)),j=j.map(function(a){return g(a,!1)}),a._polygons=a._polygons.concat(j)}}return this._polygons},b.prototype.vertices=function(){if(void 0===this._vertices){var a=this;a._vertices=[];var b=a.polygons();b.forEach(function(b){a._vertices=a._vertices.concat(b)})}return this._vertices}}function k(a){var b=a.DoomWad.Sectors=function(b,c,d,e){var f=this;f._size=d.size,b.seek(d.offset);var g=26;f._tags={},f._sectors=[];for(var h=0;h<f._size;h+=g){var i={};i.floorHeight=b.read16ls(),i.ceilingHeight=b.read16ls(),i.textureFloor=e.fromName(b.readAscii(8),"flat"),i.textureCeiling=e.fromName(b.readAscii(8),"flat"),i.lightLevel=b.read16ls(),i.special=b.read16lu(),i.tag=b.read16lu(),i.index=f._sectors.length;var j=new a.DoomWad.Sector(i);i.tag in f._tags||(f._tags[i.tag]=[]),f._tags[i.tag].push(j),f._sectors.push(j)}return f};b.prototype.size=function(){return this._size},b.prototype.fromId=function(a){return this._sectors[a]},b.prototype.forTag=function(a){return this._tags[a].slice(0)},b.prototype.sectors=function(){return this._sectors.slice(0)}}function l(a){var b=a.DoomWad.SideDef=function(a,b){var c=this;return c._size=30,c._data=b,c};b.prototype.size=function(){return this._size},b.prototype.sector=function(){return this._data.sector},b.prototype.textureUpper=function(){return this._data.textureUpper},b.prototype.textureLower=function(){return this._data.textureLower},b.prototype.textureMiddle=function(){return this._data.textureMiddle},b.prototype.textureX=function(){return this._data.textureX},b.prototype.textureY=function(){return this._data.textureY}}function m(a){var b=a.DoomWad.SideDefs=function(b,c,d,e,f){var g=this;g._size=d.size,b.seek(d.offset);var h=30;g._sideDefs=[];for(var i=0;i<g._size;i+=h){var j={};j.textureX=b.read16ls(),j.textureY=b.read16ls(),j.textureUpper=f.fromName(b.readAscii(8),"patch"),j.textureLower=f.fromName(b.readAscii(8),"patch"),j.textureMiddle=f.fromName(b.readAscii(8),"patch"),j.sector=e.fromId(b.read16lu()),g._sideDefs.push(new a.DoomWad.SideDef(c,j))}return g};b.prototype.size=function(){return this._size},b.prototype.fromId=function(a){return this._sideDefs[a]}}function n(a){var b=a.DoomWad.Stream=function(a,b){var c=this;c._loaded=!1,c._data=null,c._bytes=null,c._ptr=0,this._stack=[];var d=new XMLHttpRequest;d.open("GET",a,!0),d.responseType="arraybuffer",d.onload=function(a){c._data=d.response,c._data&&(c._bytes=new Uint8Array(c._data)),c._loaded=!0,b()},d.send(null)};b.prototype.size=function(){return this._loaded?null===this._bytes?0:this._bytes.length:null},b.prototype.read=function(a){if(!this._loaded)return null;if(null===this._bytes)return[];var b=this._bytes.slice(this._ptr,this._ptr+a);return this._ptr+=a,b},b.prototype.readUnsigned=function(a,b){var c=this.read(a),d=0;return b&&(c=c.reverse()),c.forEach(function(a){d<<=8,d|=a}),d>>>0},b.prototype.readlu=function(a){return this.readUnsigned(a,!0)},b.prototype.readbu=function(a){return this.readUnsigned(a,!1)},b.prototype.readSigned=function(a,b){var c=this.read(a),d=0,e=!1;return b&&(c=c.reverse()),e=(128&c[0])>0,e&&(d=-1),c.forEach(function(a){d<<=8,d|=a}),d},b.prototype.readls=function(a){return this.readSigned(a,!0)},b.prototype.readbs=function(a){return this.readSigned(a,!0)},b.prototype.read32lu=function(){return this.readlu(4)},b.prototype.read32bu=function(){return this.readbu(4)},b.prototype.read16lu=function(){return this.readlu(2)},b.prototype.read16bu=function(){return this.readbu(2)},b.prototype.read8u=function(){return this.readlu(1)},b.prototype.read32ls=function(){return this.readls(4)},b.prototype.read32bs=function(){return this.readbs(4)},b.prototype.read16ls=function(){return this.readls(2)},b.prototype.read16bs=function(){return this.readbs(2)},b.prototype.read8s=function(){return this.readls(1)},b.prototype.readAscii=function(a){var b=this.read(a),c="";if(b)for(var d=0;d<b.length;d++){var e=b[d];if(0==e)break;c+=String.fromCharCode(e)}return c},b.prototype.seek=function(a){return this._loaded?null===this._bytes?(this._ptr=0,0):(this._ptr=a,this._ptr<0&&(this._ptr=0),this._ptr>this._bytes.length&&(this._ptr=this._bytes.length),this._ptr):null},b.prototype.push=function(){this._stack.push(this._ptr)},b.prototype.pop=function(){this._ptr=this._stack.pop()}}function o(a){var b=function(a,b,c,d){4096!=b.size&&console.log("WARNING: FLAT '"+b.name+"': lump size is not 4096, it is "+b.size),a.seek(b.offset),c._width=64,c._height=64,c._left=0,c._top=0,c._rgbaBuffer=new Array(4*c._width*c._height);for(var e=0;e<c._width;e++)for(var f=0;f<c._height;f++){var g=a.read8u(e+64*f),h=d.fromId(g);c._rgbaBuffer[4*(f+e*c._width)+0]=h.red,c._rgbaBuffer[4*(f+e*c._width)+1]=h.green,c._rgbaBuffer[4*(f+e*c._width)+2]=h.blue,c._rgbaBuffer[4*(f+e*c._width)+3]=255}},c=a.DoomWad.Texture=function(a,c,d){var e=this;return e._size=c.size,e._name=c.name,e._namespace=c.namespace,b(a,c,e,d),e};c.prototype.size=function(){return this._size},c.prototype.width=function(){return this._width},c.prototype.height=function(){return this._height},c.prototype.rgbaBuffer=function(){return this._rgbaBuffer},c.prototype.name=function(){return this._name},c.prototype.namespace=function(){return this._namespace}}function p(a){var b=a.DoomWad.Textures=function(a,b,c,d){var e=this;return e._size=0,e._cache={},e._cache.global={},e._directory=c,e._stream=a,e._palette=d,e};b.prototype.size=function(){return this._size},b.prototype.forNamespace=function(a){var b=this._cache[a];return Object.keys(b).map(function(a){return b[a]})},b.prototype.fromName=function(b,c){if(void 0===c&&(c="global"),c in this._cache||(this._cache[c]={}),!(b in this._cache[c])){var d=this._directory.lumpHeaderFor(b,c);if(d){this._stream.push();var e=new a.DoomWad.Texture(this._stream,d,this._palette);this._cache[c][b]=e,b in this._cache.global||(this._cache.global[b]=e),this._stream.pop()}}return this._cache[c][b]}}function q(a){var b=a.DoomWad.Thing=function(a,b){var c=this;c._engine=a.engine(),"Hexen"==c._engine?c._size=20:c._size=10,c._x=b.x,c._y=b.y,c._angle=b.angle,c._flags=b.flags,c._type=b.type};b.prototype.size=function(){return this._size},b.prototype.angle=function(){return this._angle},b.prototype.x=function(){return this._x},b.prototype.y=function(){return this._y},b.prototype.flags=function(){return this._flags},b.prototype.appearsOnEasy=function(){return(1&this._flags)>0},b.prototype.appearsOnMedium=function(){return(2&this._flags)>0},b.prototype.appearsOnHard=function(){return(4&this._flags)>0},b.prototype.isDeafGuard=function(){return(8&this._flags)>0},b.prototype.appearsInMultiplayer=function(){return(16&this._flags)>0},b.prototype.isHexenDormant=function(){return(16&this._flags)>0},b.prototype.appearsForHexenFighter=function(){return(32&this._flags)>0},b.prototype.appearsForHexenCleric=function(){return(64&this._flags)>0},b.prototype.appearsForHexenMage=function(){return(128&this._flags)>0},b.prototype.appearsForHexenSinglePlayer=function(){return(256&this._flags)>0},b.prototype.appearsForHexenCoOp=function(){return(512&this._flags)>0},b.prototype.appearsForHexenDeathmatch=function(){return(1024&this._flags)>0},b.prototype._thingCollection=function(){return"DOOM"===this._engine||"DOOM2"===this._engine?a.DoomWad.Things.Doom:{}},b.prototype.info=function(){return this._thingCollection()[this._type]},b.prototype.name=function(){var a=this.info();return a?this.info().name:"unknown"},b.prototype.toString=function(){return""}}function r(a){var b=a.DoomWad.Things=function(a,b,c){var d=this;d._size=c.size,a.seek(c.offset);var e="Hexen"==b.engine(),f=10;e&&(f=20),d._things=[];for(var g=0;g<d._size;g+=f){var h={};e&&(h.id=a.read16lu()),h.x=a.read16lu(),h.y=a.read16lu(),e&&(h.height=a.read16lu()),h.angle=a.read16lu(),h.type=a.read16lu(),h.flags=a.read16lu(),e&&(h.specialType=a.read8u(),h.specialArguments=a.read(5));var i=new DoomWad.Thing(b,h);d._things.push(i)}return d};b.prototype.size=function(){return this._size}}function s(a){a.DoomWad.Things.Doom={1:{name:"Player 1 Start",sprite:"PLAY",radius:16},2:{name:"Player 2 Start",sprite:"PLAY",radius:16},3:{name:"Player 3 Start",sprite:"PLAY",radius:16},4:{name:"Player 4 Start",sprite:"PLAY",radius:16},11:{name:"Deathmatch Start",radius:20},3004:{name:"Former Human",sprite:"POSS",alertSound:["DSPOSIT1","DSPOSIT2","DSPOSIT3"],actionSound:"DSPOSACT",painSound:"DSPOPAIN",deathSound:["DSPODTH1","DSPODTH2","DSPODTH3"],gibSound:"DSSLOP",rangedAttack:{firingSound:"DSPISTOL",type:"hitscan",damageMin:3,damageMax:15,spriteMiss:"PUFF",spriteHit:"BLUD"},shootable:!0,collides:!0,countsTowardKill:!0,hitPoints:20,reactionTime:8,speed:8,height:56,mass:100,painChance:200,painTime:6,width:40},84:{name:"Wolfenstein SS Officer",sprite:"SSWV",alertSound:"DSSSSIT",actionSound:"DSPOSACT",painSound:"DSPOPAIN",deathSound:"DSSSDTH",gibSound:"DSSLOP",doom2:!0,rangedAttack:{firingSound:"DSSHOTGN",type:"hitscan",damageMin:3,damageMax:15,shotsPerMinute:168,spriteMiss:"PUFF",spriteHit:"BLUD"},shootable:!0,collides:!0,countsTowardKill:!0,hitPoints:50,height:56,speed:8,mass:100,painChance:170,reactionTime:8,painTime:6,width:40},9:{name:"Former Human Sergeant",sprite:"SPOS",alertSound:["DSPOSIT1","DSPOSIT2","DSPOSIT3"],actionSound:"DSPOSACT",painSound:"DSPOPAIN",deathSound:["DSPODTH1","DSPODTH2","DSPODTH3"],gibSound:"DSSLOP",rangedAttack:{firingSound:"DSSHOTGN",type:"hitscan",damageMin:3,damageMax:15,pelletsPerShot:3,spriteMiss:"PUFF",spriteHit:"BLUD"},shootable:!0,collides:!0,countsTowardKill:!0,hitPoints:30,height:56,reactionTime:8,speed:8,mass:100,painChance:170,painTime:6,width:40},65:{name:"Former Human Commando",sprite:"CPOS",alertSound:["DSPOSIT1","DSPOSIT2","DSPOSIT3"],actionSound:"DSPOSACT",painSound:"DSPOPAIN",deathSound:["DSPODTH1","DSPODTH2","DSPODTH3"],gibSound:"DSSLOP",doom2:!0,rangedAttack:{firingSound:"DSSHOTGN",type:"hitscan",damageMin:3,damageMax:15,shotsPerMinute:466.6,spriteMiss:"PUFF",spriteHit:"BLUD"},shootable:!0,collides:!0,countsTowardKill:!0,hitPoints:70,reactionTime:8,speed:8,height:56,mass:100,painChance:170,painTime:6,width:40},3001:{name:"Imp",sprite:"TROO",alertSound:["DSBGSIT1","DSBGSIT2"],actionSound:"DSBGACT",painSound:"DSPOPAIN",deathSound:["DSBGDTH1","DSBGDTH1"],gibSound:"DSSLOP",meleeAttack:{damageMin:3,damageMax:24,sound:"DSCLAW"},rangedAttack:{firingSound:"DSFIRSHT",impactSound:"DSFIRXPL",type:"projectile",damageMin:3,damageMax:24,width:6,height:8,sprite:"BAL1",speed:10},shootable:!0,collides:!0,countsTowardKill:!0,hitPoints:60,reactionTime:8,speed:8,height:56,mass:100,painChance:200,painTime:4,width:40},3002:{name:"Demon",sprite:"SARG",alertSound:"DSSGHSIT",actionSound:"DSDMACT",painSound:"DSDMPAIN",deathSound:"DSSGTDTH",gibSound:"DSSLOP",meleeAttack:{damageMin:4,damageMax:40,sound:"DSSGTATK"},shootable:!0,collides:!0,countsTowardKill:!0,hitPoints:150,reactionTime:8,speed:10,height:56,mass:400,painChance:180,painTime:4,width:60},58:{name:"Spectre",sprite:"SARG",alertSound:"DSSGHSIT",actionSound:"DSDMACT",painSound:"DSDMPAIN",deathSound:"DSSGTDTH",gibSound:"DSSLOP",partialInvisibility:!0,meleeAttack:{damageMin:4,damageMax:40,sound:"DSSGTATK"},shootable:!0,collides:!0,countsTowardKill:!0,hitPoints:150,reactionTime:8,speed:10,height:56,mass:400,painChance:180,painTime:4,width:60},3006:{name:"Lost Soul",sprite:"SKUL",actionSound:"DSDMACT",painSound:"DSDMPAIN",deathSound:"DSFIRXPL",meleeAttack:{damageMin:3,damageMax:24,sound:"DSSKLATK"},shootable:!0,collides:!0,hitPoints:100,noGravity:!0,floating:!0,reactionTime:8,speed:8,chargeSpeed:20,height:56,mass:50,painChance:256,painTime:6,width:32},3005:{name:"Cacodemon",sprite:"HEAD",alertSound:"DSCACSIT",actionSound:"DSDMACT",painSound:"DSDMPAIN",deathSound:"DSCACDTH",meleeAttack:{damageMin:10,damageMax:60},rangedAttack:{firingSound:"DSFIRSHT",impactSound:"DSFIRXPL",type:"projectile",damageMin:5,damageMax:40,width:12,height:8,sprite:"BAL2",speed:10},shootable:!0,collides:!0,countsTowardKill:!0,hitPoints:400,noGravity:!0,floating:!0,reactionTime:8,speed:8,height:56,mass:400,painChance:128,painTime:6,width:62},69:{name:"Hell Knight",sprite:"BOS2",alertSound:"DSKNTSIT",actionSound:"DSDMACT",painSound:"DSDMPAIN",deathSound:"DSKNTDTH",doom2:!0,meleeAttack:{damageMin:10,damageMax:80,sound:"DSCLAW"},rangedAttack:{firingSound:"DSFIRSHT",impactSound:"DSFIRXPL",type:"projectile",damageMin:8,damageMax:64,width:6,height:8,sprite:"BAL7",speed:15},shootable:!0,collides:!0,countsTowardKill:!0,hitPoints:500,reactionTime:8,speed:8,height:64,mass:1e3,painChance:50,painTime:4,width:48},3003:{name:"Baron of Hell",sprite:"BOSS",alertSound:"DSBRSSIT",actionSound:"DSDMACT",painSound:"DSDMPAIN",deathSound:"DSBRSDTH",meleeAttack:{damageMin:10,damageMax:80,sound:"DSCLAW"},rangedAttack:{firingSound:"DSFIRSHT",impactSound:"DSFIRXPL",type:"projectile",damageMin:8,damageMax:64,width:6,height:8,sprite:"BAL7",speed:15},shootable:!0,collides:!0,countsTowardKill:!0,hitPoints:1e3,reactionTime:8,speed:8,height:64,mass:1e3,painChance:50,painTime:4,width:48},68:{name:"Arachnotron",sprite:"BSPI",alertSound:"DSBSPSIT",chaseSound:"DSBSPWLK",actionSound:"DSBSPACT",painSound:"DSDMPAIN",deathSound:"DSBSPDTH",rangedAttack:{firingSound:"DSPLASMA",impactSound:"DSFIRXPL",type:"projectile",damageMin:5,damageMax:40,width:13,height:8,shotsPerMinute:233.3,sprite:"APLS",spriteImpact:"APBX",speed:25},shootable:!0,collides:!0,countsTowardKill:!0,hitPoints:500,reactionTime:8,speed:12,height:64,mass:1e3,painChance:128,painTime:6,width:128},71:{name:"Pain Elemental",sprite:"PAIN",alertSound:"DSPESIT",actionSound:"DSDMACT",painSound:"DSPEPAIN",deathSound:"DSPEDTH",doom2:!0,shootable:!0,collides:!0,noGravity:!0,floating:!0,countsTowardKill:!0,hitPoints:400,reactionTime:8,speed:8,height:56,mass:400,painChance:128,painTime:12,width:62},66:{name:"Revenant",sprite:"SKEL",alertSound:"DSSKESIT",actionSound:"DSSKEACT",painSound:"DSPOPAIN",deathSound:"DSSKEDTH",doom2:!0,meleeAttack:{damageMin:6,damageMax:60,sound:"DSSKESWG",impactSound:"DSSKEPCH"},rangedAttack:{firingSound:"DSSKEATK",impactSound:"DSBAREXP",type:"projectile",damageMin:10,damageMax:80,width:11,height:8,sprite:"FATB",spriteTrail:"PUFF",spriteImpact:"FBXP",speed:10},shootable:!0,collides:!0,countsTowardKill:!0,hitPoints:300,reactionTime:8,speed:10,height:56,mass:500,painChance:100,painTime:10,width:40},67:{name:"Mancubus",sprite:"FATT",alertSound:"DSMANSIT",actionSound:"DSPOSACT",painSound:"DSMNPAIN",deathSound:"DSMANDTH",doom2:!0,rangedAttack:{prepareSound:"DSMANATK",firingSound:"DSFIRSHT",impactSound:"DSFIRXPL",type:"projectile",damageMin:8,damageMax:64,pelletsPerShot:6,width:6,height:8,sprite:"MANF",spriteImpact:"BEXP",speed:20},shootable:!0,collides:!0,countsTowardKill:!0,hitPoints:600,reactionTime:8,speed:8,height:64,mass:1e3,painChance:80,painTime:6,width:96},64:{name:"Arch-vile",sprite:"VILE",alertSound:"DSVILSIT",actionSound:"DSVILACT",painSound:"DSVIPAIN",deathSound:"DSVILDTH",doom2:!0,rangedAttack:{prepareSound:"DSVILATK",splashSound:"DSFLAME",impactSound:"DSBAREXP",type:"special",damageMin:20,damageMax:20,splashMin:0,splashMax:70,sprite:"FIRE"},shootable:!0,collides:!0,countsTowardKill:!0,hitPoints:700,reactionTime:8,speed:15,height:56,mass:500,painChance:10,painTime:10,width:40},7:{name:"Spiderdemon",sprite:"SPID",alertSound:"DSSPISIT",chaseSound:"DSMETAL",actionSound:"DSDMACT",painSound:"DSDMPAIN",deathSound:"DSSPIDTH",rangedAttack:{firingSound:"DSSHOTGN",type:"hitscan",damageMin:3,damageMax:15,shotsPerMinute:466.7,spriteMiss:"PUFF",spriteHit:"BLUD"},shootable:!0,collides:!0,countsTowardKill:!0,hitPoints:3e3,reactionTime:8,speed:12,height:100,mass:1e3,painChance:40,painTime:6,width:256},16:{name:"Cyberdemon",sprite:"CYBR",alertSound:"DSCYBSIT",chaseSound:["DSMETAL","DSHOOF"],actionSound:"DSDMACT",painSound:"DSDMPAIN",deathSound:"DSCYBDTH",rangedAttack:{firingSound:"DSSHOTGN",type:"projectile",damageMin:20,damageMax:160,splashMin:0,splashMax:128,width:11,height:8,sprite:"MISL",firingSound:"DSRLAUNC",impactSound:"DSBAREXP"},shootable:!0,collides:!0,countsTowardKill:!0,hitPoints:4e3,reactionTime:8,speed:16,height:110,mass:1e3,painChance:20,painTime:10,width:80},88:{name:"Boss Brain",sprite:"BBRN",radius:16,alertSound:"DSBOSSIT",deathSound:"DSBOSDTH",rangedAttack:{firingSound:"DSSHOTGN",type:"projectile",damageMin:20,damageMax:160,splashMin:0,splashMax:128,width:11,height:8,sprite:"MISL",firingSound:"DSRLAUNC",impactSound:"DSBAREXP"},shootable:!0,collides:!0,countsTowardKill:!0,hitPoints:250},72:{name:"Commander Keen",sprite:"KEEN",painSound:"DSKEENPN",deathSound:"DSKEENDT",doom2:!0,rangedAttack:{firingSound:"DSSHOTGN",type:"projectile",damageMin:20,damageMax:160,splashMin:0,splashMax:128,width:11,height:8,sprite:"MISL",firingSound:"DSRLAUNC",impactSound:"DSBAREXP"},shootable:!0,collides:!0,countsTowardKill:!0,hitPoints:100,reactionTime:8,speed:0,noGravity:!0,hanging:!0,height:72,mass:1e7,painChance:256,painTime:6,width:32},14:{name:"Teleport Landing",radius:20},89:{name:"Boss Spawn Shooter",doom2:!0,radius:20},87:{name:"Boss Spawn Spot",doom2:!0,radius:20},2001:{name:"Shotgun",sprite:"SHOT",animation:"A",radius:20,pickup:!0},82:{name:"Double-barrel Shotgun",sprite:"SGN2",animation:"A",doom2:!0,radius:20,pickup:!0},2002:{name:"Chaingun",sprite:"MGUN",animation:"A",radius:20,pickup:!0},2003:{name:"Rocket Launcher",sprite:"LAUN",animation:"A",radius:20,pickup:!0},2004:{name:"Plasma Gun",sprite:"PLAS",animation:"A",radius:20,pickup:!0},2005:{name:"Chainsaw",sprite:"CSAW",animation:"A",radius:20,pickup:!0},2006:{name:"BFG9000",sprite:"BFUG",animation:"A",radius:20,pickup:!0},2007:{name:"Ammo Clip",sprite:"CLIP",animation:"A",radius:20,pickup:!0},2008:{name:"Shotgun Shells",sprite:"SHEL",animation:"A",radius:20,pickup:!0},2010:{name:"Rocket",sprite:"ROCK",animation:"A",radius:20,pickup:!0},2047:{name:"Cell Charge",sprite:"CELL",animation:"A",radius:20,pickup:!0},2048:{name:"Box of Ammo",sprite:"AMMO",animation:"A",radius:20,pickup:!0},2049:{name:"Box of Shells",sprite:"SBOX",animation:"A",radius:20,pickup:!0},2046:{name:"Box of Rockets",sprite:"BROK",animation:"A",radius:20,pickup:!0},17:{name:"Cell Charge Pack",sprite:"CELP",animation:"A",radius:20,pickup:!0},8:{name:"Backpack",sprite:"BPAK",animation:"A",radius:20,pickup:!0},2011:{name:"Stimpack",sprite:"STIM",animation:"A",radius:20,pickup:!0},2012:{name:"Medikit",sprite:"MEDI",animation:"A",radius:20,pickup:!0},2014:{name:"Health Potion",sprite:"BON1",animation:"ABCDCB",radius:20,countsTowardItem:!0,pickup:!0},2015:{name:"Spirit Armor",sprite:"BON2",animation:"ABCDCB",radius:20,countsTowardItem:!0,pickup:!0},2018:{name:"Security Armor",sprite:"ARM1",animation:"AB",radius:20,pickup:!0},2019:{name:"Combat Armor",sprite:"ARM2",animation:"AB",radius:20,pickup:!0},83:{name:"Megasphere",doom2:!0,sprite:"MEGA",animation:"ABCD",radius:20,countsTowardItem:!0,pickup:!0},2013:{name:"Soul Sphere",sprite:"SOUL",animation:"ABCDCB",radius:20,countsTowardItem:!0,pickup:!0},2022:{name:"Invulnerability",sprite:"PINV",animation:"ABCD",radius:20,countsTowardItem:!0,pickup:!0},2023:{name:"Berserk Pack",sprite:"PSTR",animation:"A",radius:20,countsTowardItem:!0,pickup:!0},2024:{name:"Invisibility",sprite:"PINS",animation:"ABCD",radius:20,countsTowardItem:!0,pickup:!0},2025:{name:"Radiation Suit",sprite:"SUIT",animation:"A",radius:20,pickup:!0},2026:{name:"Computer Map",sprite:"PMAP",animation:"ABCDCB",radius:20,countsTowardItem:!0,pickup:!0},2045:{name:"Light Intensifying Goggles",sprite:"PVIS",animation:"AB",radius:20,countsTowardItem:!0,pickup:!0},5:{name:"Blue Keycard",sprite:"BKEY",animation:"AB",radius:20,pickup:!0},13:{name:"Red Keycard",sprite:"RKEY",animation:"AB",radius:20,pickup:!0},6:{name:"Yellow Keycard",sprite:"YKEY",animation:"AB",radius:20,pickup:!0},40:{name:"Blue Skullkey",sprite:"BSKU",animation:"AB",radius:20,pickup:!0},38:{name:"Red Skullkey",sprite:"RSKU",animation:"AB",radius:20,pickup:!0},39:{name:"Yellow Skullkey",sprite:"YSKU",animation:"AB",radius:20,pickup:!0},2035:{name:"Barrel",sprite:"BAR1",spriteDeath:"BEXP",animation:"AB",hitPoints:20,radius:10,height:56,mass:100,speed:0,collides:!0,shootable:!0},70:{name:"Burning Barrel",sprite:"FCAN",animation:"ABC",radius:10,height:56,collides:!0},43:{name:"Burnt Tree",sprite:"TRE1",animation:"A",radius:16,collides:!0},35:{name:"Candelabra",sprite:"CBRA",animation:"A",radius:16,collides:!0},41:{name:"Evil Eye",sprite:"CEYE",animation:"ABCB",radius:16,collides:!0},28:{name:"Five Skull Shish Kebab",sprite:"POL2",animation:"A",radius:16,collides:!0},42:{name:"Floating Skull",sprite:"FSKU",animation:"ABC",radius:16,collides:!0},2028:{name:"Floor Lamp",sprite:"COLU",animation:"A",radius:16,collides:!0},53:{name:"Hanging Leg",sprite:"GOR5",animation:"A",radius:16,hanging:!0,collides:!0},52:{name:"Hanging Pair of Legs",sprite:"GOR4",animation:"A",radius:16,hanging:!0,collides:!0},78:{name:"Hanging Torso, Brain Removed",sprite:"HDB6",animation:"A",radius:16,hanging:!0,collides:!0},75:{name:"Hanging Torso, Looking Down",sprite:"HDB3",animation:"A",radius:16,hanging:!0,collides:!0},77:{name:"Hanging Torso, Looking Up",sprite:"HDB5",animation:"A",radius:16,hanging:!0,collides:!0},76:{name:"Hanging Torso, Open Skull",sprite:"HDB4",animation:"A",radius:16,hanging:!0,collides:!0},50:{name:"Hanging Victim, Arms Out",sprite:"GOR2",animation:"A",radius:16,hanging:!0,collides:!0},74:{name:"Hanging Victim, Guts and Brain Removed",sprite:"HDB2",animation:"A",radius:16,hanging:!0,collides:!0},73:{name:"Hanging Victim, Guts Removed",sprite:"HDB1",animation:"A",radius:16,hanging:!0,collides:!0},51:{name:"Hanging Victim, One-Legged",sprite:"GOR3",animation:"A",radius:16,hanging:!0,collides:!0},49:{name:"Hanging Victim, Twitching",sprite:"GOR1",animation:"ABCB",radius:16,hanging:!0,collides:!0},25:{name:"Impaled Human",sprite:"POL1",animation:"A",radius:16,collides:!0},54:{name:"Large Brown Tree",sprite:"TRE2",animation:"A",radius:32,collides:!0},29:{name:"Pill of Skulls and Candles",sprite:"POL3",animation:"AB",radius:16,collides:!0},55:{name:"Short Blue Firestick",sprite:"SMBT",animation:"ABCD",radius:16,collides:!0},56:{name:"Short Green Firestick",sprite:"SMGT",animation:"ABCD",radius:16,collides:!0},31:{name:"Short Green Pillar",sprite:"COL2",animation:"A",radius:16,collides:!0},36:{name:"Short Green Pillar with Beating Heart",sprite:"COL5",animation:"AB",radius:16,collides:!0},57:{name:"Short Red Firestick",sprite:"SMRT",animation:"ABCD",radius:16,collides:!0},33:{name:"Short Red Pillar",sprite:"COL4",animation:"A",radius:16,collides:!0},37:{name:"Short Red Pillar with Skull",sprite:"COL6",animation:"A",radius:16,collides:!0},86:{name:"Short Techno Floor Lamp",sprite:"TLP2",animation:"ABCD",radius:16,collides:!0},27:{name:"Skull on a Pole",sprite:"POL4",animation:"A",radius:16,collides:!0},47:{name:"Stalagmite",sprite:"SMIT",animation:"A",radius:16,collides:!0},44:{name:"Tall Blue Firestick",sprite:"TBLU",animation:"ABCD",radius:16,collides:!0},45:{name:"Tall Green Firestick",sprite:"TGRN",animation:"ABCD",radius:16,collides:!0},
30:{name:"Tall Green Pillar",sprite:"COL1",animation:"A",radius:16,collides:!0},46:{name:"Tall Red Firestick",sprite:"TRED",animation:"ABCD",radius:16,collides:!0},32:{name:"Tall Red Pillar",sprite:"COL3",animation:"A",radius:16,collides:!0},85:{name:"Tall Techno Floor Lamp",sprite:"TLMP",animation:"ABCD",radius:16,collides:!0},48:{name:"Tall Techno Pillar",sprite:"ELEC",animation:"A",radius:16,collides:!0},26:{name:"Twitching Impaled Human",sprite:"POL6",animation:"AB",radius:16,collides:!0},10:{name:"Bloody Mess",sprite:"PLAY",animation:"W",radius:16},12:{name:"Bloody Mess",sprite:"PLAY",animation:"W",radius:16},34:{name:"Candle",sprite:"CAND",animation:"A",radius:16},22:{name:"Dead Cacodemon",sprite:"HEAD",animation:"L",radius:31},21:{name:"Dead Demon",sprite:"SARG",animation:"N",radius:30},18:{name:"Dead Former Human",sprite:"POSS",animation:"L",radius:20},19:{name:"Dead Former Sergeant",sprite:"SPOS",animation:"L",radius:20},20:{name:"Dead Imp",sprite:"TROO",animation:"M",radius:20},23:{name:"Dead Lost Soul",sprite:"SKUL",animation:"K",radius:16},15:{name:"Dead Marine",sprite:"PLAY",animation:"N",radius:16},62:{name:"Hanging Leg",sprite:"GOR5",animation:"A",hanging:!0,radius:16},60:{name:"Hanging Pair of Legs",sprite:"GOR4",animation:"A",hanging:!0,radius:16},59:{name:"Hanging Victim, Arms Out",sprite:"GOR2",animation:"A",hanging:!0,radius:16},61:{name:"Hanging Victim, One-Legged",sprite:"GOR3",animation:"A",hanging:!0,radius:16},63:{name:"Hanging Victim, Twitching",sprite:"GOR1",animation:"ABCB",hanging:!0,radius:16},79:{name:"Pool of Blood",sprite:"POB1",animation:"A",hanging:!0,radius:16},80:{name:"Pool of Blood",sprite:"POB2",animation:"A",hanging:!0,radius:16},24:{name:"Pool of Blood and Flesh",sprite:"POL5",animation:"A",hanging:!0,radius:16},81:{name:"Pool of Brains",sprite:"BRS1",animation:"A",hanging:!0,radius:16}}}function t(a){var b=a.DoomWad.Vertexes=function(a,b,c){var d=this;d._size=c.size,a.seek(c.offset),d._vertices=[];for(var e=0;e<d._size;e+=4){var f={};f.x=a.read16ls(),f.y=a.read16ls(),0==e&&(d._minX=f.x,d._minY=f.y,d._maxX=f.x,d._maxY=f.y),f.x>d._maxX&&(d._maxX=f.x),f.x<d._minX&&(d._minX=f.x),f.y>d._maxY&&(d._maxY=f.y),f.y<d._minY&&(d._minY=f.y),d._vertices.push(f)}return d};b.prototype.size=function(){return this._size},b.prototype.fromId=function(a){return this._vertices[a]},b.prototype.maxX=function(){return this._maxX},b.prototype.maxY=function(){return this._maxY},b.prototype.minX=function(){return this._minX},b.prototype.minY=function(){return this._minY},b.prototype.vertices=function(){return this._vertices}}var u=Function,v=(new u("return this")(),function(a){return b(a),n(a),d(a),e(a),c(a),f(a),r(a),q(a),s(a),t(a),h(a),g(a),m(a),l(a),p(a),o(a),k(a),j(a),i(a),a.DoomWad});"function"==typeof define&&define.amd?define(function(){return v({})}):v(this)}(this);